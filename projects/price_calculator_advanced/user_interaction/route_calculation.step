step: route_calculation
    belongs to: user_interaction
    expects: choice as text
    returns: nothing

    declare:
        results as table

    riser: invalid_choice
        expects: nothing
        returns: nothing

        do:
            display "Invalid selection. Please try again."

    do:
        if choice equals "1"
            call solve_price_metrics with "price_margin" storing result in results
        otherwise if choice equals "2"
            call solve_price_metrics with "price_profit" storing result in results
        otherwise if choice equals "3"
            call solve_price_metrics with "price_markup" storing result in results
        otherwise if choice equals "4"
            call solve_price_metrics with "price_cost" storing result in results
        otherwise if choice equals "5"
            call solve_price_metrics with "margin_profit" storing result in results
        otherwise if choice equals "6"
            call solve_price_metrics with "margin_cost" storing result in results
        otherwise if choice equals "7"
            call solve_price_metrics with "profit_markup" storing result in results
        otherwise if choice equals "8"
            call solve_price_metrics with "profit_cost" storing result in results
        otherwise if choice equals "9"
            call solve_price_metrics with "markup_cost" storing result in results
        otherwise
            call invalid_choice
            call display_menu storing result in new_choice
            call route_calculation with new_choice

        call display_values with results
